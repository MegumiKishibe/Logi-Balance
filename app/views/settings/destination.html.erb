<div class="title-group">
  <div class="title">
    <p2>Destination Settings</p2>
    <p3>| 配達先情報編集</p3>
  </div>
</div>

<div class="settings-form-container">
  <div class="filter-section full-width">
    <%= form_with url: destination_settings_path, method: :get, local: true, class: "field-row" do %>
      <label class="form-label">対象：</label>
      <div class="select-wrapper">
        <%= select_tag :destination_id,
              options_from_collection_for_select(@destinations, :id, ->(d) { d.name }, params[:destination_id]),
              prompt: "配達先を選択してください",
              onchange: "this.form.submit();",
              class: "form-select" %>
      </div>
    <% end %>
  </div>

  <div class="form-card">
    <%= form_with scope: :destination,
                  url: update_destination_settings_path,
                  method: :post,
                  local: true do |f| %>

      <%= hidden_field_tag "destination[id]", @selected_destination.id %>

      <div class="input-grid">
        <div class="input-group">
          <label class="input-label">名称</label>
          <%= f.text_field :name, 
                value: @selected_destination.name, 
                class: "form-input", 
                placeholder: "例：テスト配達先1" %>
        </div>

        <div class="input-group">
          <label class="input-label">住所</label>
          <%= f.text_field :address, 
                value: @selected_destination.address, 
                class: "form-input", 
                placeholder: "例：奈良県奈良市◯◯町1-2-3" %>
        </div>
      </div>

      <div class="form-actions">
        <%= f.submit "変更を保存する", class: "btn btn-primary btn-wide" %>
      </div>
    <% end %>
  </div>
</div>

<div class="nav-button-group">
  <%= link_to "設定メニューへ戻る", settings_path, class: "btn btn-secondary" %>
</div>