<h2>Driver Settings</h2>

<!-- 1. ドライバー選択プルダウン -->
<%= form_with url: settings_driver_path, method: :get, local: true do %>
  <div>
    <label>ドライバーを選択</label>
    <%= select_tag :employee_id,
          options_from_collection_for_select(@employees, :id,
                                             ->(e) { "#{e.last_name_ja} #{e.first_name_ja}" },
                                             params[:employee_id]),
          prompt: "Select Driver",
          onchange: "this.form.submit();" %>
  </div>
<% end %>

<hr>

<!-- 2. ドライバー編集フォーム（空 or 選択後） -->
<%= form_with model: @selected_employee,
              url: update_driver_settings_path,
              method: :post,
              local: true do |f| %>

  <div>
    <label>Employee No</label>
    <%= f.text_field :employee_no %>
  </div>

  <div>
    <label>姓</label>
    <%= f.text_field :last_name_ja %>
  </div>

  <div>
    <label>名</label>
    <%= f.text_field :first_name_ja %>
  </div>

  <div>
    <label>Last Name (EN)</label>
    <%= f.text_field :last_name_en %>
  </div>

  <div>
    <label>First Name (EN)</label>
    <%= f.text_field :first_name_en %>
  </div>

  <div>
    <label>Hired On</label>
    <%= f.date_field :hired_on %>
  </div>

  <%= f.hidden_field :id, value: @selected_employee.id %>

  <div style="margin-top:16px;">
    <%= f.submit "Confirm", class: "btn btn-primary" %>
  </div>

<% end %>
<br>

<%= link_to "戻る", settings_path, class: "btn btn-secondary" %>
